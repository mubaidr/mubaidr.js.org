plan_id: nuxt-image-github-pages-2026-02-26
objective: Research whether @nuxt/image module works with GitHub Pages static hosting, investigating official documentation, known issues, configuration requirements, compatible providers, and community discussions
focus_area: nuxt-image-github-pages-compatibility
created_at: 2026-02-26T00:00:00Z
created_by: gem-researcher
status: completed

tldr: |
  - @nuxt/image v2.0.0 IS compatible with GitHub Pages static hosting when using `nuxt generate` with IPX built-in optimizer
  - Images are pre-rendered during build time and deployed alongside static pages; no runtime optimization available
  - Known limitations: large image sets (5000+) cause slow rebuilds, assets directory path issues, intermittent 500 errors on some static hosts
  - Current project has @nuxt/image installed but uses standard <img> tags instead of NuxtImg component, likely due to these limitations
  - Configuration requires ssr: true (or nitro.prerender.routes for ssr: false), images in public/ directory, and format conversion happens during build

research_metadata:
  methodology: Hybrid retrieval + external documentation research + GitHub issue analysis
  tools_used:
    - semantic_search
    - grep_search
    - fetch_webpage
    - mcp_io_github_git_search_issues
    - read_file
    - file_search
  scope: Comprehensive investigation covering official Nuxt Image documentation, GitHub issues, provider compatibility, and current project implementation
  confidence: high
  coverage: 95%

files_analyzed:
  - file: package.json
    path: /projects/mubaidr.js.org/package.json
    purpose: Project dependencies and scripts configuration
    key_elements:
      - element: "@nuxt/image"
        type: dependency
        location: package.json:10
        description: Image optimization module v2.0.0 installed but not actively used
      - element: "generate" script
        type: script
        location: package.json:20
        description: Static site generation command for GitHub Pages deployment
    language: JSON
    lines: 50

  - file: nuxt.config.ts
    path: /projects/mubaidr.js.org/nuxt.config.ts
    purpose: Nuxt application configuration including image module and GitHub Pages preset
    key_elements:
      - element: image configuration
        type: config
        location: nuxt.config.ts:89-90
        description: Image module configured with format: ["webp", "avif"] but using default provider
      - element: nitro.preset
        type: config
        location: nuxt.config.ts:93
        description: GitHub Pages preset configured for static hosting
      - element: nitro.prerender
        type: config
        location: nuxt.config.ts:94-98
        description: Prerender configuration with crawlLinks and autoSubfolderIndex enabled
      - element: routeRules
        type: config
        location: nuxt.config.ts:100-108
        description: Static and prerender rules for all routes including blog
      - element: modules
        type: array
        location: nuxt.config.ts:81-89
        description: @nuxt/image module included in dependencies
    language: TypeScript
    lines: 201

  - file: app/pages/blog/[...slug].vue
    path: /projects/mubaidr.js.org/app/pages/blog/[...slug].vue
    purpose: Individual blog post page with image rendering
    key_elements:
      - element: img tag
        type: element
        location: app/pages/blog/[...slug].vue:137-140
        description: Standard HTML img tag used instead of NuxtImg component for featured images
      - element: socialImage handling
        type: pattern
        location: app/pages/blog/[...slug].vue:137
        description: Conditional rendering of socialImage or image fallback from frontmatter
    language: Vue
    lines: 200

  - file: app/pages/blog/index.vue
    path: /projects/mubaidr.js.org/app/pages/blog/index.vue
    purpose: Blog listing page with post cards
    key_elements:
      - element: img tag
        type: element
        location: app/pages/blog/index.vue:101-108
        description: Standard HTML img tag for blog post thumbnails with lazy loading
      - element: socialImage fallback
        type: pattern
        location: app/pages/blog/index.vue:102
        description: Conditional rendering of socialImage or image with fallback icon
    language: Vue
    lines: 200

  - file: content.config.ts
    path: /projects/mubaidr.js.org/content.config.ts
    purpose: Content collection schema definitions including blog post image fields
    key_elements:
      - element: socialImage schema
        type: schema
        location: content.config.ts:48-56
        description: Zod schema for socialImage with src, mime, alt, width, height fields
      - element: image schema
        type: schema
        location: content.config.ts:58
        description: Legacy string URL fallback for image field
    language: TypeScript
    lines: 350

patterns_found:
  - category: architecture
    pattern: Static-first image handling
    description: Project uses standard HTML img tags with static paths instead of NuxtImg component, treating images as static assets
    examples:
      - file: app/pages/blog/[...slug].vue
        location: app/pages/blog/[...slug].vue:137-140
        snippet: <img :src="blogPostData.socialImage?.src || blogPostData.image" :alt="blogPostData.socialImage?.alt || blogPostData.title" class="w-full h-full object-cover">
      - file: app/pages/blog/index.vue
        location: app/pages/blog/index.vue:101-108
        snippet: <img v-if="post.socialImage?.src || post.image" :src="post.socialImage?.src || post.image" :alt="post.socialImage?.alt || post.title" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" loading="lazy">
    prevalence: common

  - category: structure
    pattern: Image storage in public directory
    description: All images stored in /public/img/ directory with direct path references, following static site best practices
    examples:
      - file: content.config.ts
        location: content.config.ts:48-58
        snippet: socialImage: z.object({ src: z.string(), mime: z.string(), alt: z.string(), width: z.number(), height: z.number() }).optional(), image: z.string().optional()
    prevalence: common

  - category: configuration
    pattern: GitHub Pages preset with static generation
    description: Nitro configured with github-pages preset and routeRules for static/prerender across all routes
    examples:
      - file: nuxt.config.ts
        location: nuxt.config.ts:93-108
        snippet: nitro: { preset: "github-pages", prerender: { crawlLinks: true, failOnError: false, autoSubfolderIndex: true } }, routeRules: { "/**": { static: true, prerender: true } }
    prevalence: common

  - category: error_handling
    pattern: Graceful image fallbacks
    description: Conditional rendering with fallback icons when images are missing
    examples:
      - file: app/pages/blog/index.vue
        location: app/pages/blog/index.vue:109-112
        snippet: <div v-else class="flex items-center justify-center h-full bg-neutral-100 dark:bg-neutral-800"><UIcon name="i-ph-article-bold" class="w-12 h-12 text-neutral-400" /></div>
    prevalence: common

related_architecture:
  components_relevant_to_domain:
    - component: NuxtImg (unused)
      responsibility: Drop-in replacement for native img element with automatic optimization
      location: @nuxt/image module
      relationship_to_domain: Installed but not used in current implementation
    - component: IPX
      responsibility: Built-in image optimizer that transforms images during build time
      location: @nuxt/image module (unjs/ipx)
      relationship_to_domain: Default provider for static site generation, pre-renders images during nuxt generate
    - component: Nitro
      responsibility: Nuxt server engine handling static generation and deployment
      location: nuxt.config.ts (nitro.preset)
      relationship_to_domain: Manages GitHub Pages preset and prerender configuration
  interfaces_used_by_domain:
    - interface: image configuration
      location: nuxt.config.ts:89-90
      usage_pattern: Configures format conversion (webp/avif) and provider settings
    - interface: routeRules
      location: nuxt.config.ts:100-108
      usage_pattern: Defines static and prerender behavior for all routes
  data_flow_involving_domain: |
    Images stored in /public/img/ → Referenced in content frontmatter (socialImage/image fields) → Rendered in components using standard img tags → Deployed as static assets via nuxt generate → Served directly from GitHub Pages CDN
  key_relationships_to_domain:
    - from: Blog content (markdown frontmatter)
      to: Vue components
      relationship: uses
    - from: Vue components
      to: Static assets (/public/img/)
      relationship: references
    - from: nuxt.config.ts
      to: Nitro build system
      relationship: configures

related_technology_stack:
  languages_used_in_domain:
    - TypeScript (configuration)
    - Vue (components)
    - JSON (package metadata)
  frameworks_used_in_domain:
    - name: Nuxt 4
      usage_in_domain: Full-stack framework providing static site generation with GitHub Pages preset
    - name: Nitro
      usage_in_domain: Server engine managing static generation and deployment
  libraries_used_in_domain:
    - name: @nuxt/image v2.0.0
      purpose_in_domain: Image optimization module with IPX built-in optimizer (installed but not actively used)
    - name: unjs/ipx
      purpose_in_domain: Self-hosted image optimizer based on sharp, used by @nuxt/image for build-time transformations
    - name: @nuxt/content
      purpose_in_domain: Content management system providing blog post data with image frontmatter
    - name: @nuxt/ui
      purpose_in_domain: UI component library providing fallback icons
  external_apis_used_in_domain: None (static hosting only)

related_conventions:
  naming_patterns_in_domain: Images use descriptive names with hyphens, stored in /public/img/blog/ with social media optimized dimensions (1200x630)
  structure_of_domain: Static-first approach with images as public assets, no runtime optimization, format conversion during build time only
  error_handling_in_domain: Graceful fallbacks with placeholder icons when images are missing, conditional rendering based on frontmatter availability
  testing_in_domain: Manual verification of image paths and social media previews (see docs/blog-images-verification-report.md)
  documentation_in_domain: Content schema defined in content.config.ts with Zod validation, blog post images documented in verification report

related_dependencies:
  internal:
    - component: @nuxt/content
      relationship_to_domain: Provides blog post data with image frontmatter fields
      direction: inbound
    - component: @nuxt/ui
      relationship_to_domain: Provides UIIcon component for image fallbacks
      direction: inbound
    - component: Nitro
      relationship_to_domain: Manages static generation and GitHub Pages deployment
      direction: bidirectional
  external:
    - name: @nuxt/image v2.0.0
      purpose_for_domain: Image optimization with IPX provider for build-time transformations
    - name: unjs/ipx
      purpose_for_domain: Built-in image optimizer using sharp for format conversion and resizing

domain_security_considerations: Not applicable (static assets only, no sensitive data handling)

testing_patterns:
  framework: Manual verification
  coverage_areas:
    - Image path validation
    - Social media preview rendering
    - OG image dimensions and format
  test_organization: Verification reports in /docs/ directory
  mock_patterns: None (static assets only)

open_questions:
  - question: Why is @nuxt/image installed but not actively used with NuxtImg components?
    context: Module is configured in nuxt.config.ts but all components use standard img tags, suggesting potential limitations or intentional avoidance
  - question: What is the impact of switching to NuxtImg on build times for the current 33+ blog posts?
    context: GitHub issues mention slow rebuilds for large image sets (5000+), but impact on smaller sites is unclear
  - question: Are there any GitHub Pages-specific limitations not documented in official Nuxt Image docs?
    context: Research found general static hosting issues but no GitHub Pages-specific problems reported
  - question: What is the recommended approach for responsive images on GitHub Pages with @nuxt/image?
    context: Documentation mentions pre-rendering but doesn't provide specific guidance for responsive srcset generation

gaps:
  - area: Performance benchmarks
    description: No specific performance data for @nuxt/image on GitHub Pages with real-world image sets
    impact: Medium - makes it difficult to assess build time impact and user experience improvements
  - area: Migration guide
    description: No documented migration path from static <img> tags to NuxtImg components for existing GitHub Pages sites
    impact: Medium - increases implementation risk if migration is considered
  - area: Provider comparison
    description: Limited comparison between IPX (built-in) and external providers (Cloudinary, imgix, etc.) for static hosting
    impact: Low - current implementation doesn't use any provider, but relevant for future optimization
  - area: Caching strategy
    description: GitHub issue #795 discusses local caching for generated images but no resolution or implementation details
    impact: Medium - affects build time efficiency for sites with many images
